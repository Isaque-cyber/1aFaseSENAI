<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8" />
    <title>Seus H√°bitos</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
        }
        h2 {
            border-bottom: 2px solid #333;
            padding-bottom: 5px;
        }
        ul {
            list-style: disc inside;
            margin-bottom: 20px;
        }
        li {
            margin-bottom: 8px;
        }
        button {
            margin-left: 8px;
        }
    </style>
</head>
<body>

    <h1>Seus H√°bitos</h1>

    <section>
        <h2>Beber √Ågua</h2>
        <ul id="listaAgua"></ul>
    </section>

    <section>
        <h2>Exerc√≠cios F√≠sicos</h2>
        <ul id="listaExercicio"></ul>
    </section>

    <button onclick="limparLista()">üóëÔ∏è Limpar Todos os H√°bitos</button><br><br>

    <a href="pg1.html">‚ûï Adicionar nova observa√ß√£o</a>

    <script>
        let habitos = JSON.parse(localStorage.getItem("habitos")) || {
            agua: [],
            exercicio: []
        };

        const ulAgua = document.getElementById("listaAgua");
        const ulExercicio = document.getElementById("listaExercicio");

        function salvarHabitos() {
            localStorage.setItem("habitos", JSON.stringify(habitos));
            location.reload();
        }

        function editarItem(habito, index) {
            const novoTexto = prompt("Editar observa√ß√£o:", habitos[habito][index].texto);
            if (novoTexto && novoTexto.trim() !== "") {
                habitos[habito][index].texto = novoTexto.trim();
                habitos[habito][index].data = new Date().toLocaleString();
                salvarHabitos();
            }
        }

        function removerItem(habito, index) {
            if (confirm("Deseja remover esta observa√ß√£o?")) {
                habitos[habito].splice(index, 1);
                salvarHabitos();
            }
        }

        function limparLista() {
            if (confirm("Tem certeza que deseja apagar todas as observa√ß√µes?")) {
                localStorage.removeItem("habitos");
                location.reload();
            }
        }

        function renderizarLista(habito, ul) {
            ul.innerHTML = "";
            habitos[habito].forEach((item, index) => {
                const li = document.createElement("li");
                li.innerHTML = `
                    ${item.texto} <br />
                    <small><i>Adicionado em: ${item.data}</i></small>
                    <br />
                    <button onclick="editarItem('${habito}', ${index})">‚úèÔ∏è Editar</button>
                    <button onclick="removerItem('${habito}', ${index})">‚ùå Remover</button>
                `;
                ul.appendChild(li);
            });
            if(habitos[habito].length === 0){
                ul.innerHTML = "<li><i>Sem observa√ß√µes ainda.</i></li>";
            }
        }

        renderizarLista("agua", ulAgua);
        renderizarLista("exercicio", ulExercicio);
    </script>

</body>
</html>
